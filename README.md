# tracker-care-of

Консольное приложение для учёта ухода за растениями с хранением данных в PostgreSQL. Проект ориентирован на ведение карточек растений и их записей (полив, заметки, события/наблюдения) в простом текстовом интерфейсе.

Сборка выполняется через CMake (C++20), зависимости подключаются через vcpkg.

## Возможности

- Регистрация и вход пользователя (email/пароль)
- Список растений пользователя
- Добавление растения
- Просмотр истории записей по растению (табличный интерфейс)
- Добавление записи (например, заметка/событие)
- Отображение данных о поливе/частоте (если заполнены)

## Технологии

- Язык: C++20
- Сборка: CMake (минимум 3.25)
- Генератор: Ninja (рекомендуется)
- База данных: PostgreSQL (`libpq`)
- Хэширование паролей: Argon2 (`unofficial-argon2`)
- Форматирование: `fmt`

## Требования

- CMake 3.25+
- Компилятор с поддержкой C++20
- Ninja
- vcpkg
- PostgreSQL (сервер) и клиентские библиотеки/заголовки (`libpq`)

Важно: в `CMakeLists.txt` использован vcpkg toolchain. Для автоматического подключения укажите переменную окружения `VCPKG_ROOT`, указывающую на корень установленного vcpkg.

## Установка зависимостей (vcpkg)

Установите необходимые пакеты:

```powershell
vcpkg install fmt unofficial-argon2 postgresql
```

Если вы используете конкретный триплет (например, `x64-windows`), укажите его явно:

```powershell
vcpkg install fmt unofficial-argon2 postgresql --triplet x64-windows
```

## Конфигурация приложения

Приложение подключается к PostgreSQL. Параметры подключения читаются из окружения/конфигурации (см. `include/env/env-parser.cpp`).

Рекомендуется заранее:

- создать отдельную БД (например, `tracker_care_of`)
- создать пользователя с минимально необходимыми правами
- применить схему/миграции (если они присутствуют в репозитории)

## Сборка

### Windows (Ninja)

```powershell
cmake -S . -B build -G Ninja
cmake --build build
```

Исполняемый файл: `build/main.exe`.

### Linux/macOS (Нinja)

```bash
cmake -S . -B build -G Ninja
cmake --build build
```

## Запуск

Запускайте приложение из корня репозитория (в конфигурации CMake рабочая директория отладчика установлена в `${CMAKE_SOURCE_DIR}`).

При старте выберите режим:

- `1) Register` — регистрация
- `2) Login` — вход

Далее используйте подсказки в интерфейсе:

- Навигация: стрелки или `W` / `S`
- Добавление: `A` или `+` (в зависимости от экрана)
- Назад/выход: `Esc`

## Структура проекта

- `main.cpp` — точка входа, авторизация, навигация по экранам
- `db/` — подключение к PostgreSQL
- `repositories/` — доступ к данным
- `services/` — бизнес-логика (например, авторизация)
- `ui/` — консольный интерфейс
- `models/` — доменные модели
- `include/` — общие заголовки (crypto/env и т.п.)

## Примечания

- Если CMake не находит зависимости, проверьте `VCPKG_ROOT` и установку пакетов для нужного триплета.
- Проект на данном этапе предполагает локальную доступность PostgreSQL во время работы приложения.

## Лицензия

Проект распространяется по лицензии **Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)**. Подробности см. в файле `LICENSE`.